/* Copyright (C) YOOtheme GmbH, http://www.gnu.org/licenses/gpl.html GNU/GPL */

(function($){var Plugin=function(){};$.extend(Plugin.prototype,{name:"warpspotlight",options:{effect:"fade",duration:300,transition:"swing",right:300,left:300,top:300,bottom:300,fade:300},initialize:function(element,options){this.options=$.extend({},this.options,options);var $this=this;$(String(element.attr("class")).split(" ")).each(function(i,cls){if($.inArray(cls,["right","left","top","bottom","fade"])!=-1){$this.options.effect=cls;$this.options.duration=$this.options[$this.options.effect]}if(cls.match(/duration\-/gi))$this.options.duration=cls.split("-")[1]});this.element=element;this.slides=this.element.children();this.slides.each(function(){$(this).wrap("<div>")});this.slides=this.element.children();this.slides.each(function(index){$(this).css({position:"absolute",width:"100%",visibility:index==0?"visible":"hidden"}).addClass("spotlight"+index)});this.element.css({position:"relative",overflow:"hidden",height:$($this.slides[0]).height()});var slide=$($this.slides[1]);this.element.bind({mouseenter:function(){slide.stop().css("visibility","visible");switch($this.options.effect){case"right":slide.css({right:slide.width()*-1}).animate({right:0},$this.options.duration,$this.options.transition);break;case"left":slide.css({left:slide.width()*-1}).animate({left:0},$this.options.duration,$this.options.transition);break;case"top":slide.css({left:0,top:slide.height()*-1}).animate({top:0},$this.options.duration,$this.options.transition);break;case"bottom":slide.css({left:0,bottom:slide.height()*-1}).animate({bottom:0});break;case"fade":default:slide.show().css({opacity:0}).animate({opacity:1},$this.options.duration,$this.options.transition,function(){if(!$.support.opacity){slide.get(0).filter="";slide.attr("style",String(slide.attr("style")).replace(/alpha\(opacity=([\d.]+)\)/i,""))}})}},mouseleave:function(){slide.stop();switch($this.options.effect){case"right":slide.animate({right:slide.width()*-1},$this.options.duration,$this.options.transition);break;case"left":slide.animate({left:slide.width()*-1},$this.options.duration,$this.options.transition);break;case"top":slide.animate({top:slide.height()*-1},$this.options.duration,$this.options.transition);break;case"bottom":slide.animate({bottom:slide.height()*-1},$this.options.duration,$this.options.transition);break;case"fade":default:slide.animate({opacity:0},$this.options.duration,$this.options.transition,function(){slide.hide()})}}})}});$.fn[Plugin.prototype.name]=function(){var args=arguments;var method=args[0]?args[0]:null;return this.each(function(){var element=$(this);if(Plugin.prototype[method]&&element.data(Plugin.prototype.name)&&method!="initialize"){element.data(Plugin.prototype.name)[method].apply(element.data(Plugin.prototype.name),Array.prototype.slice.call(args,1))}else if(!method||$.isPlainObject(method)){var plugin=new Plugin;if(Plugin.prototype["initialize"]){plugin.initialize.apply(plugin,$.merge([element],args))}element.data(Plugin.prototype.name,plugin)}else{$.error("Method "+method+" does not exist on jQuery."+Plugin.name)}})}})(jQuery);