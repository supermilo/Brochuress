!function(t){t.fn.fitVids=function(e){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("div");n.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',a.appendChild(n.childNodes[1])}return e&&t.extend(i,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&e.push(i.customSelector);var a=".fitvidsignore";i.ignore&&(a=a+", "+i.ignore);var n=t(this).find(e.join(","));(n=(n=n.not("object object")).not(a)).each(function(){var e=t(this);if(!e.hasClass("jwswf")&&!(e.parents(a).length>0||"embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){e.css("height")||e.css("width")||!isNaN(e.attr("height"))&&!isNaN(e.attr("width"))||(e.attr("height",9),e.attr("width",16));var i=("object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height())/(isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10));if(!e.attr("id")){var n="fitvid"+Math.floor(999999*Math.random());e.attr("id",n)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*i+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t){"use strict";function e(e){return t(e).filter(function(){return t(this).is(":appeared")})}function i(){o=!1;for(var t=0,i=a.length;t<i;t++){var n=e(a[t]);if(n.trigger("appear",[n]),l[t]){var s=l[t].not(n);s.trigger("disappear",[s])}l[t]=n}}var a=[],n=!1,o=!1,s={interval:250,force_process:!1},r=t(window),l=[];t.expr[":"].appeared=function(e){var i=t(e);if(!i.is(":visible"))return!1;var a=r.scrollLeft(),n=r.scrollTop(),o=i.offset(),s=o.left,l=o.top;return l+i.height()>=n&&l-(i.data("appear-top-offset")||0)<=n+r.height()&&s+i.width()>=a&&s-(i.data("appear-left-offset")||0)<=a+r.width()},t.fn.extend({appear:function(e){var r=t.extend({},s,e||{}),d=this.selector||this;if(!n){var u=function(){o||(o=!0,setTimeout(i,r.interval))};t(window).scroll(u).resize(u),n=!0}return r.force_process&&setTimeout(i,r.interval),function(t){a.push(t),l.push()}(d),t(d)}}),t.extend({force_appear:function(){return!!n&&(i(),!0)}})}(jQuery),function(t){"use strict";t.fn.numeric=function(e){return this.each(function(){var i=t(this);i.keypress(e,function(t){if(8===t.which||0===t.which)return!0;if(t.which<48||t.which>57)return!1;var e=t.which-48;return this.value+e.toString()>t.data.max?(i.val(t.data.max),i.siblings(".ut-numeric-slider").slider("value",t.data.max),i.siblings(".ut-numeric-slider-hidden-input").val(t.data.max),!1):void 0})})}}(jQuery),function(t){"use strict";var e={processing:!1,init:function(){this.init_hide_body(),this.init_tabs(),this.init_sortable(),this.add_list_title(),this.init_numeric_slider(),this.init_icon_picker(),this.init_color_picker(),this.init_google_font(),this.runTinyMCE(),this.init_dependencies(),this.replicate_ajax()},init_hide_body:function(e,i){var a=".option-tree-setting-body";"parent"===i?t(a).not(e.parent().parent().children(a)).hide():"child"===i?e.closest("ul").find(a).not(e.parent().parent().children(a)).hide():"child-add"===i?e.children().find(a).hide():"toggle"===i?e.parent().parent().children(a).toggle():t(a).hide()},init_remove_active:function(e,i){var a=".option-tree-setting-edit";"parent"===i?t(a).not(e).removeClass("active"):"child"===i?e.closest("ul").find(a).not(e).removeClass("active"):"child-add"===i?e.children().find(a).removeClass("active"):t(a).removeClass("active")},init_tabs:function(){t(".ut-button-builder-tabgroup > div").hide(),t(".ut-button-builder-tabgroup > div:first-of-type").show()},init_sortable:function(){t(".ut-sortable").not(".ut-option-initialized").each(function(){if(t(this).children("li").length){var i=t(this);i.show(),i.sortable({items:"li:not(.ui-state-disabled)",handle:"div.option-tree-setting",placeholder:"ui-state-highlight",cancel:".option-tree-setting-body",start:function(t,e){e.placeholder.height(e.item.height())},stop:function(t,a){setTimeout(function(){e.update_ids(i)},200)}}),t(this).addClass("ut-option-initialized")}}),t(".ut-sortable-tax").not(".ut-option-initialized").each(function(){if(t(this).children("li").length){var e=t(this);e.show(),e.sortable({handle:".ut-handle",placeholder:"ut-handle-highlight"})}}),t(".ut-sortable-header-toolbar").not(".ut-option-initialized").each(function(){if(t(this).children("li").length){var e=t(this);e.show(),e.sortable({placeholder:"ui-sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer"}),e.disableSelection()}})},add_list_title:function(){t(".ut-select-setting-title").each(function(){e.edit_title_select(this)})},runTinyMCE:function(){if("undefined"==typeof tinyMCEPreInit)return!1;var e=tinyMCEPreInit.mceInit["ut-hidden-editor"];t(".ut-ui-tinymce textarea").each(function(){var i=t(this).attr("id"),a=t(this).closest(".wp-editor-wrap");tinyMCEPreInit.mceInit[i]=e;var n={buttons:"",disabled_buttons:"",id:i};tinyMCEPreInit.qtInit[i]=n,tinymce.init(e),tinymce.execCommand("mceAddEditor",!0,i);new QTags(n);setTimeout(function(){t(a).removeClass("html-active").addClass("tmce-active"),QTags._buttonsInit()},750)})},init_google_font:function(){t(".ut-select-js-data-ajax").select2({cache:!1,ajax:{type:"POST",delay:350,url:ajaxurl,dataType:"json",data:function(t){return{search:t.term,action:"search_google_fonts"}},processResults:function(t){return{results:t}}}}),t(".ut-google-font-select, .ut-select-js-data-ajax").not(".ut-google-initialized").each(function(){var i=t(this);e.update_google_font_fields(i.data("group")),i.addClass("ut-google-initialized")})},update_google_font_fields:function(i){if(i){var a=t("#"+i+"-font-family"),n="",o="",s="",r="";if(t("#"+i+"-font-family").select2("data").length&&void 0!==t("#"+i+"-font-family").select2("data")[0].fontid){var l=t("#"+i+"-font-family").select2("data")[0];n=l.font,o=l.subsets,s=l.variants,r=l.fontid}else n=a.find(":selected").data("font"),o=a.find(":selected").data("subsets"),s=a.find(":selected").data("variants"),r=a.find(":selected").data("fontid");var d=t("#"+i+"-font-size").val(),u=t("#"+i+"-font-weight").val(),c=t("#"+i+"-text-transform").val(),p=t("#"+i+"-font-style").val();n?(e.update_google_font_subsets(i,o),e.update_google_font_weights(i,s),e.update_google_font_styles(i,s),e.update_google_font_link(i),e.update_google_font_preview(i,d,n,u,p,c),t("#"+i+"-fontid").val(r)):t("#ut-google-style-"+i).text("")}},update_google_font_subsets:function(e,i){i=i.split(","),-1===t.inArray(t("#"+e+"-font-subset").val(),i)&&t("#"+e+"-font-subset").prop("selectedIndex",0).prev("span").replaceWith("<span>"+t("#"+e+"-font-subset").find("option:selected").text()+"</span>"),t("#"+e+"-font-subset option").each(function(){t.inArray(t(this).val(),i)>=0||!t(this).val()?t(this).attr("disabled",!1):t(this).attr("disabled",!0)})},update_google_font_weights:function(e,i){i=i.replace("regular","400"),i=i.split(","),-1===t.inArray(t("#"+e+"-font-weight").val(),i)&&t("#"+e+"-font-weight").prop("selectedIndex",0).prev("span").replaceWith("<span>"+t("#"+e+"-font-weight").find("option:selected").text()+"</span>"),t("#"+e+"-font-weight option").each(function(){t.inArray(t(this).val(),i)>=0||!t(this).val()?t(this).attr("disabled",!1):t(this).attr("disabled",!0)})},update_google_font_styles:function(e,i){i=i.split(","),-1===t.inArray(t("#"+e+"-font-style").val(),i)&&t("#"+e+"-font-style").prop("selectedIndex",0).prev("span").replaceWith("<span>"+t("#"+e+"-font-style").find("option:selected").text()+"</span>").show(),t("#"+e+"-font-style option").each(function(){t.inArray(t(this).val(),i)>=0||!t(this).val()?t(this).attr("disabled",!1):t(this).attr("disabled",!0)})},update_google_font_link:function(e){if(e){var i=t("#"+e+"-font-family"),a=t("#"+e+"-font-weight").val(),n=t("#"+e+"-font-style").val(),o="";if(t("#"+e+"-font-family").select2("data").length&&void 0!==t("#"+e+"-font-family").select2("data")[0].fontid){o=t("#"+e+"-font-family").select2("data")[0].family}else o=i.find(":selected").data("family");t("#ut-google-style-link-"+e).attr("href","http://fonts.googleapis.com/css?family="+o+":"+a+n)}},update_google_font_preview:function(e,i,a,n,o,s){t("#ut-google-style-"+e).text("#ut-google-preview-"+e+" { font-size: "+i+'; font-family: "'+a+'" !important; font-weight: '+n+"; font-style: "+o+"; text-transform: "+s+"; }")},add:function(i,a){var n=this,o="",s="",r="",l=0,d="",u="",c="";if("choice"===a?(o=t(i).parent().children("ul"),s="list-choice"):"list_item"===a?(o=t(i).parent().children("ul"),s="list-sub-setting"):"list_item_setting"===a?(o=t(i).parent().children("ul"),s="list-sub-setting"):(o=t(i).parent().find("ul:first"),s="section"===a?"list-section":"list-setting"),r=o.data("name"),l=o.data("id"),d=o.data("getOption"),c=o.data("list-title"),u=t("#"+r+"_settings_array").val(),!1===this.processing){this.processing=!0;var p=parseInt(o.children("li").length);if("list_item"===a&&(o.find("li input.option-tree-setting-title",n).each(function(){var e=t(this).attr("name").match(/\[([0-9]+)\]/),i=null!==e?parseInt(e[1]):0;++i>p&&(p=i)}),o.children().length>=o.data("max")))return modal({type:"warning",title:"Info",text:unite_js_translation["header_limit_"+o.data("max")],buttons:[{text:"OK",val:"ok",eKey:!0,addClass:"ut-ui-button-yellow",onClick:function(t){return!0}}],callback:function(t){}}),void(n.processing=!1);t.ajax({type:"POST",url:ajaxurl,data:{action:"add_"+a,count:p,name:r,post_id:l,get_option:d,settings:u,type:a,list_title:c},complete:function(i){"choice"===a||"list_item_setting"===a?(e.init_remove_active(o,"child-add"),e.init_hide_body(o,"child-add")):(e.init_remove_active(),e.init_hide_body()),o.append('<li class="ui-state-default '+s+'">'+i.responseText+"</li>"),o.children().last().find(".option-tree-setting-edit").toggleClass("active"),o.children().last().find(".option-tree-setting-body").toggle(),o.children().last().find(".option-tree-setting-title").focus(),e.update_ids(o),setTimeout(function(){e.init_tabs(),e.init_sortable(),e.add_list_title(),e.init_numeric_slider(),e.init_color_picker(),e.init_icon_picker()},500),0!==t("#ut_portfolio_link_type").length&&t("#ut_portfolio_link_type").trigger("change"),n.processing=!1}})}},remove:function(e){t(e).parent().parent().parent("li").remove()},edit_title:function(e){return this.timer&&clearTimeout(e.timer),this.timer=setTimeout(function(){t(e).parent().parent().parent().children(".open").text(e.value)},100),!0},edit_title_select:function(e){var i=e.value.replace("fa-","").replace("-"," ");return t(e).parent().parent().parent().parent().children(".open").text(i),!0},update_id:function(i){return this.timer&&clearTimeout(i.timer),this.timer=setTimeout(function(){e.update_ids(t(i).parents("ul"))},100),!0},update_ids:function(e){var i,a;e.children("li").each(function(e){t(this).hasClass("list-section")&&((a=t(this).find(".section-id").val().trim().toLowerCase().replace(/[^a-z0-9]/gi,"_"))||(a=t(this).find(".section-title").val().trim().toLowerCase().replace(/[^a-z0-9]/gi,"_")),a||(a=i)),t(this).hasClass("list-setting")&&t(this).find(".hidden-section").attr({value:a}),i=a})},init_upload_fix:function(i,a){var n=t(i).attr("id"),o=t(i).val(),s=t(i).parent().next("ut-ui-media-wrap").find("img"),r=s.attr("src"),l="";if(!t(i).next().hasClass("ut-single-media-upload-id"))if(o!==r&&s.attr("src",o),""===o||void 0!==r&&!1!==r||!e.url_exists(o))""!==o&&e.url_exists(o)||t(i).parent().next(".ut-ui-media-wrap").remove();else{var d=/\.(?:jpe?g|png|svg|gif|ico)$/i,u=a?"ut-single-media-upload":"";t("#"+n+"_media").length?(o.match(d)&&t("#"+n+"_media").find("img").attr("src",o),l+='<button class="ut-ui-remove-media ut-ui-button red" title="'+unite_js_translation.remove_media_text+'">'+unite_js_translation.remove_media_text+"</button>",t("#"+n).val(o),t("#"+n+"_media").append(l).slideDown()):(o.match(d)&&(l+='<div class="ut-ui-image-wrap '+u+'"><img src="'+o+'" alt="" /></div>'),l+='<button class="ut-ui-remove-media ut-ui-button red" title="'+unite_js_translation.remove_media_text+'">'+unite_js_translation.remove_media_text+"</button>",t("#"+n).val(o),t("#"+n+"_media").remove(),t("#"+n).parent().parent("div").append('<div class="ut-ui-media-wrap '+u+'" id="'+n+'_media" />'),t("#"+n+"_media").append(l).slideDown())}},init_numeric_slider:function(){t(".ut-numeric-slider-wrap").not(".ut-option-initialized").each(function(){var e=t(".ut-numeric-slider-hidden-input",this),i=t(".ut-numeric-slider-helper-input",this),a=t(".ut-numeric-slider",this),n=e.val();n||(n=e.data("min"),i.val(n)),a.slider({min:e.data("min"),max:e.data("max"),step:e.data("step"),value:n,slide:function(t,a){e.add(i).val(a.value).trigger("change")}}),i.tooltipster({trigger:"click"}).tooltipster("content",i.data("tooltip")).numeric({max:e.data("max")}),t(this).addClass("ut-option-initialized")})},init_icon_picker:function(){t(".ut-icon-select").not(".ut-option-initialized").each(function(){var e=t(this);e.fontIconPicker({theme:"fip-inverted",iconsPerPage:50}),e.addClass("ut-option-initialized")})},init_color_picker:function(){t(".ut-minicolors").not(".ut-option-initialized").each(function(){var e=t(this),i=e.data("mode"),a=e.data("position")?e.data("position"):"bottom left";"rgb"===i?e.minicolors({format:i,opacity:!0,position:a,changeDelay:600,change:function(){e.trigger("change")}}):e.minicolors({format:i,letterCase:"uppercase",position:a,changeDelay:600,change:function(){e.trigger("change")}}),e.addClass("ut-option-initialized")}),t(".ut-gradient-picker").not(".ut-option-initialized").each(function(){var e=t(this);e.asColorPicker(),e.addClass("ut-option-initialized")})},remove_image:function(e){t(e).parent().parent().next().find(".ut-ui-upload-input").attr("value",""),t(e).parent().prev(".ut-ui-upload-parent").find(".ut-ui-upload-input").attr("value",""),t(e).parent(".ut-ui-media-wrap").hasClass("ut-single-media-upload")?(t(e).parent(".ut-ui-media-wrap").remove(),t(e).remove()):(t(e).parent(".ut-ui-media-wrap").find("img").attr("src",unite.placeholder),t(e).remove())},remove_image_id:function(e){t(e).closest(".ut-ui-upload-parent").find(".ut-ui-upload-input").attr("value","").trigger("change"),t(e).siblings(".ut-ui-image-wrap").remove(),t(e).remove()},init_dependencies:function(){t("#ut-admin-wrap").length&&t("#ut-admin-wrap").find(".ut-options-outer-panel-group.ut-panel-loaded").each(function(){if(t(this).hasClass("ut-dependencies-initialized"))return!0;t(this).hasClass("ut-has-sub-dependencies")?t("[data-child-of='"+t(this).data("section-id")+"']").not(".ut-dependencies-initialized").each(function(){t(this).FormDependencies({inactiveClass:"ut-hide"}).addClass("ut-dependencies-initialized")}):t(this).FormDependencies({inactiveClass:"ut-hide"}).addClass("ut-dependencies-initialized")})},replicate_ajax:function(){if(-1!==location.href.indexOf("#")){var e=t("input[name='_wp_http_referer']").val(),i=location.href.substr(location.href.indexOf("#"));t("input[name='_wp_http_referer']").val(e+i),this.scroll_to_top()}setTimeout(function(){t(".wrap.settings-wrap .fade").fadeOut("fast")},3e3)},url_exists:function(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),404!==e.status},scroll_to_top:function(){setTimeout(function(){t(this).scrollTop(0)},50)}};e.init(),t(document).ready(function(){function i(){(window.pageYOffset||document.documentElement.scrollTop)>=160?s.addClass("ut-show-admin-header"):s.removeClass("ut-show-admin-header")}function a(e){r.push(e),t("#ut-store-panels").val(r.join())}function n(e){d.push(e),t("#ut-store-sub-panels").val(d.join())}function o(e){c&&"undefined"!=typeof wpActiveEditor&&(wpActiveEditor=void 0),wpLink.textarea=e,wpLink.close(),t("body").off("click","#wp-link-submit"),t("body").off("click","#wp-link-cancel .button")}var s=t("#ut-admin-header-floating");s.length&&t(window).scroll(function(){window.requestAnimationFrame(i)}),t(".ut-admin-inner-nav").each(function(){var e=t(this);e.slicknav({label:"",duplicate:!1,duration:0,prependTo:e.parent(),allowParentLinks:!0,beforeOpen:function(e){!function(e){var i=t(e[0]);if(!i.hasClass("slicknav_btn")){var a=i.parent();a.parent().children().each(function(){var e=t(this);if(!e.is(a)&&!e.hasClass("slicknav_collapsed")&&e.hasClass("slicknav_open")){var i=e.children().first();i.hasClass("slicknav_item")&&i.click()}})}}(e)}}).slicknav("open")});var r=[];t("#ut-admin-outer-nav li").each(function(){t(this).hasClass("ut-panel-loaded")&&a(t(this).children("a").data("section"))});var l=!1,d=[];t(".ut-admin-inner-nav .ut-sub-panel-loaded").each(function(){n(t(this).data("panel-id"))});var u=!1;t(document).on("click",'#ut-admin-outer-nav li:not(".ut-admin-branding") a',function(i){if(l)return!1;var n=t(this);n.parent().siblings().removeClass("ut-ui-state-active"),n.parent().siblings().find(".ut-ui-state-active").removeClass("ut-ui-state-active"),n.parent().addClass("ut-ui-state-active"),t(".ut-options-outer-panel-group").removeClass("ut-show").addClass("ut-hide"),t("#section_"+n.data("section")).removeClass("ut-hide").addClass("ut-show"),t("[data-section='"+n.data("subsection")+"']").trigger("click"),Cookies.set("ut_open_panel_section",n.data("section")),Cookies.set("ut_open_panel_subsection",n.data("subsection")),function(i){i.parent().hasClass("ut-panel-loaded")||(t("#"+i.data("section")+"_placeholder").removeClass("ut-hide").addClass("ut-show"),t("#"+i.data("section")+"_loader").fadeIn(),l=!0,t.ajax({type:"POST",url:ajaxurl,data:{action:"load_theme_panel_section",section:i.data("section")},success:function(n){var o="#section_"+i.data("section");t.each(t(n),function(e,i){document.getElementById(t(i).attr("id"))||t(i).appendTo(t(o).children(".ut-options-outer-panel-group-append"))}),i.parent().addClass("ut-panel-loaded"),t(o).addClass("ut-panel-loaded"),t("#"+i.data("section")+"_placeholder").removeClass("ut-show").addClass("ut-hide"),t(".ut-options-outer-panel-group").removeClass("ut-show").addClass("ut-hide"),t("#section_"+i.data("section")).removeClass("ut-hide").addClass("ut-show"),t("[data-default-section='"+i.data("subsection")+"']").trigger("click"),t("[data-section='"+i.data("subsection")+"']").trigger("click"),t(".ut-ace-css-editor").css("min-height",400),e.init(),t("#"+i.data("section")+"_loader").fadeOut(400,function(){a(i.data("section")),l=!1})}}))}(n),i.preventDefault()}),t(document).on("click",".ut-admin-inner-nav li a",function(i){if(u)return!1;var a=t(this);a.closest("ul").parent().hasClass("slicknav_parent")||a.hasClass("slicknav_item")||a.closest("ul").find(".slicknav_parent.slicknav_open > a").trigger("click"),a.parent().parent().find(".ut-ui-state-active").removeClass("ut-ui-state-active"),a.parent().addClass("ut-ui-state-active"),t(".ut-options-inner-panel-group").removeClass("ut-show").addClass("ut-hide"),t("#section_"+a.data("section")).removeClass("ut-hide").addClass("ut-show"),a.parent().hasClass("ut-has-sub-panel")&&a.parent().data("master-section")&&Cookies.set("ut_load_sub_panel",a.parent().data("panel-id")),Cookies.set("ut_open_panel_subsection",a.data("section")),void 0!==a.data("default-section")&&t("[data-section='"+a.data("default-section")+"']").parent().addClass("ut-ui-state-active"),function(i){!i.parent().hasClass("ut-sub-panel-loaded")&&i.parent().hasClass("ut-has-sub-panel")&&(t("#"+i.parent().data("master-section")+"_placeholder").removeClass("ut-hide").addClass("ut-show"),t("#"+i.parent().data("master-section")+"_loader").fadeIn(),u=!0,t.ajax({type:"POST",url:ajaxurl,data:{action:"load_theme_subpanel_panel",section_id:i.parent().data("master-section"),panel_id:i.parent().data("panel-id")},success:function(a){var o="#section_"+i.parent().data("master-section");t.each(t(a),function(e,i){document.getElementById(t(i).attr("id"))||t(i).appendTo(t(o).children(".ut-options-outer-panel-group-append"))}),i.parent().addClass("ut-sub-panel-loaded"),t("#"+i.parent().data("master-section")+"_placeholder").removeClass("ut-show").addClass("ut-hide"),t("#section_"+i.data("section")).removeClass("ut-hide").addClass("ut-show"),t(".ut-ace-css-editor").css("min-height",400),e.init(),t("#"+i.parent().data("master-section")+"_loader").fadeOut(400,function(){n(i.parent().data("panel-id")),u=!1})}}))}(a),t.force_appear(),i.preventDefault()}),t(document).on("click",".option-tree-setting-edit",function(i){i.preventDefault();var a=t(this);a.parents().hasClass("option-tree-setting-body")?(e.init_remove_active(a,"child"),e.init_hide_body(a,"child")):(e.init_remove_active(a,"parent"),e.init_hide_body(a,"parent")),a.toggleClass("active"),e.init_hide_body(a,"toggle")}),t(document).on("click",".ut-list-item-add",function(t){t.preventDefault(),e.add(this,"list_item")}),t(document).on("click",".option-tree-choice-add",function(t){t.preventDefault(),e.add(this,"choice")}),t(document).on("click",".option-tree-setting-remove",function(i){if(i.preventDefault(),t(this).parents("li").hasClass("ui-state-disabled"))return alert(unite_js_translation.remove_no),!1;var a=this,n=t(a).parents("ul");return modal({type:"confirm",title:"Confirm",text:unite_js_translation.remove_agree,buttons:[{addClass:"ut-ui-button-health"},{addClass:"ut-ui-button-blue"}],callback:function(t){!0===t&&(e.remove(a),setTimeout(function(){e.update_ids(n)},200))}}),!1}),t(document).on("keyup",".option-tree-setting-title",function(){e.edit_title(this)}),t(document).on("change",".ut-select-setting-title",function(){e.edit_title_select(this)}),t(document).on("keyup",".section-id",function(){e.update_id(this)}),t(document).on("click",".option-tree-ui-radio-image",function(e){var i=t(this);i.closest(".type-radio-image").find(".option-tree-ui-radio-image").removeClass("option-tree-ui-radio-image-selected"),i.toggleClass("option-tree-ui-radio-image-selected"),i.parent().find(".option-tree-ui-radio").attr("checked",!0)}),t(document).on("focus blur change",".ut-ui-upload-input",function(){t(this).parent(".ut-ui-upload-parent").toggleClass("focus"),e.init_upload_fix(this)}),t(document).on("click",".ut-media-upload:not(.ut-media-upload-id)",function(i){i.preventDefault();var a=t(this).parent(".ut-ui-upload-parent").find("input").attr("id"),n=(t(this).attr("rel"),t(this).hasClass("ut-single-media-upload")),o="";window.ot_media_frame=window.ot_media_frame||new wp.media.view.MediaFrame.Select({title:t(this).attr("title"),button:{text:unite_js_translation.upload_text},multiple:!1}),window.ot_media_frame.on("select",function(){var i=window.ot_media_frame.state().get("selection").first(),s=i.attributes.url;i.attributes.mime;s.match(/\.(?:jpe?g|png|svg|gif|ico)$/i)&&t("#"+a+"_media").find("img").attr("src",s),o+='<button class="ut-ui-remove-media ut-ui-button red" title="'+unite_js_translation.remove_media_text+'">'+unite_js_translation.remove_media_text+"</button>",t("#"+a).val(s).trigger("change"),t("#"+a+"_media").append(o).slideDown(),e.init_upload_fix(t("#"+a),n),window.ot_media_frame.off("select")}).open()}),t(document).on("click",".ut-media-upload-id",function(e){e.preventDefault();var i=t(this).parent(".ut-ui-upload-parent").find("input").attr("id"),a=(t(this).attr("rel"),t(this).hasClass("ut-single-media-upload"),"");window.ot_media_frame=window.ot_media_frame||new wp.media.view.MediaFrame.Select({title:t(this).attr("title"),button:{text:unite_js_translation.upload_text},multiple:!1}),window.ot_media_frame.on("select",function(){var e=window.ot_media_frame.state().get("selection").first();if("image/svg+xml"===e.attributes.mime)var n=e.attributes.url,o=/\.(?:jpe?g|png|svg|gif|ico|webp)$/i;else{var n=e.attributes.url,o=/\.(?:jpe?g|png|svg|gif|ico|webp)$/i;void 0!==e.attributes.sizes&&void 0!==e.attributes.sizes.large&&(n=e.attributes.sizes.large.url)}t("#"+i+"_media").find("img").length&&n.match(o)?t("#"+i+"_media").find("img").attr("src",n):(a+='<div class="ut-ui-image-wrap"><img src="'+n+'" alt="" /></div>',a+='<button class="ut-ui-remove-media ut-ui-remove-media-id ut-ui-button red" title="'+unite_js_translation.remove_media_text+'">'+unite_js_translation.remove_media_text+"</button>"),t("#"+i).val(e.id).trigger("change"),t("#"+i+"_media").append(a).slideDown(),-1!==t("#"+i).attr("name").indexOf("desktop")&&t("#"+i).closest("li").hasClass("compact-list-item")&&t("#"+i).closest("li").find(".compact-list-item-preview img").attr("src",n),window.ot_media_frame.off("select")}).open()}),t(document).on("mouseenter",".compat-field-ut-morph-caption-color, .compat-field-ut-morph-caption-background",function(){e.init_color_picker()}),wp.media.view.AttachmentCompat.prototype.save=function(e){var i={};e&&e.preventDefault(),t(document).data("minicolors-target")||(_.each(this.$el.serializeArray(),function(t){/\[\]$/.test(t.name)?(void 0===i[t.name]&&(i[t.name]=[]),i[t.name].push(t.value)):i[t.name]=t.value}),this.controller.trigger("attachment:compat:waiting",["waiting"]),this.model.saveCompat(i).always(_.bind(this.postSave,this)))},wp.media.view.AttachmentCompat.prototype.render=function(){var t=this.model.get("compat");if(t&&t.item)return this.views.detach(),this.$el.html(t.item),this.views.render(),e.init_color_picker(),this},t(document).on("click",".ut-ui-remove-media:not(.ut-ui-remove-media-id)",function(i){var a=t(this);modal({type:"confirm",title:"Confirm",text:unite_js_translation.remove_agree,buttons:[{addClass:"ut-ui-button-health"},{addClass:"ut-ui-button-blue"}],callback:function(t){!0===t&&e.remove_image(a)}}),i.preventDefault()}),t(document).on("click",".ut-ui-remove-media-id",function(i){var a=t(this);modal({type:"confirm",title:"Confirm",text:unite_js_translation.remove_agree,buttons:[{addClass:"ut-ui-button-health"},{addClass:"ut-ui-button-blue"}],callback:function(t){!0===t&&e.remove_image_id(a)}}),i.preventDefault()}),t(document).on("input propertychange",".ut-numeric-slider-helper-input",function(){var e=t(this);e.siblings(".ut-numeric-slider").slider("value",e.val()),e.siblings(".ut-numeric-slider-hidden-input").val(e.val())}),t(window).load(function(){setTimeout(function(){t(".ut-numeric-slider-helper-input").trigger("propertychange")},500)}),tb_position=function(){var e=t("#TB_window");return e.size()&&(e.width(790).height(555),t("#TB_iframeContent").width(790).height(525),e.css({"margin-left":"-"+parseInt(395,10)+"px"}),void 0!==document.body.style.maxWidth&&e.css({top:"40px","margin-top":"0"})),t("a.thickbox").each(function(){var e=t(this).attr("href");e&&(e=(e=e.replace(/&width=[0-9]+/g,"")).replace(/&height=[0-9]+/g,""),t(this).attr("href",e+"&width=760&height=515"))})},t("a.thickbox").click(function(){"undefined"!=typeof tinyMCE&&tinyMCE.activeEditor&&(tinyMCE.get("content").focus(),tinyMCE.activeEditor.windowManager.bookmark=tinyMCE.activeEditor.selection.getBookmark("simple"))}),t(document).on("click",".ut-font-preview",function(){return tb_show("",unite.pop_url+"fontpreview.html?TB_iframe=true"),!1}),t(document).on("click",".ut-header-preview",function(){return tb_show("",unite.pop_url+"headerpreview.html?TB_iframe=true"),!1}),t(document).on("click",".ut-hero-preview",function(){return tb_show("",unite.pop_url+"heropreview.html?TB_iframe=true"),!1}),t(".ut-ace-css-editor").css("min-height",500).appear(),t(document.body).on("appear",".ut-ace-css-editor",function(){var e=t(this),i=e.attr("id"),a=e.data("id"),n=ace.edit(i),o=e.data("mode");n.setTheme("ace/theme/tomorrow"),n.getSession().setMode("ace/mode/"+o),n.setShowPrintMargin(!1),n.on("change",function(){t("#"+a).val(n.getSession().getValue()),n.resize()})}),t(window).load(function(){t.force_appear()}),t(document).on("click",".ut-clear-select-js-data-ajax",function(e){t(this).siblings(".ut-select-js-data-ajax").prop("selectedIndex",0).trigger("change"),e.preventDefault()}),t(document).on("select2:select",".ut-select-js-data-ajax",function(){var i=t(this).data("group");e.update_google_font_fields(i)}),t(document).on("change",".ut-google-font-select",function(){var i=t(this).data("group");e.update_google_font_fields(i)}),t(document).on("change",".ut-google-font-size",function(){var i=t(this).data("group");e.update_google_font_fields(i)}),t(document).on("change",".ut-google-font-weight",function(){var i=t(this).data("group");e.update_google_font_fields(i)}),t(document).on("change",".ut-google-text-transform",function(){var i=t(this).data("group");e.update_google_font_fields(i)}),t(document).on("change",".ut-google-font-style",function(){var i=t(this).data("group");e.update_google_font_fields(i)});var c=!1;t("body").on("click",".ut-link-button",function(e){e.preventDefault(),function(e){t("body").on("click","#wp-link-submit",function(i){i.preventDefault();var a={};a.url=t("#wp-link-url").val(),a.title=t("#wp-link-text").val(),a.target=t("#wp-link-target").is(":checked")?"_blank":"";var n=t.map(a,function(e,i){if("string"===t.type(e)&&0<e.length)return i+":"+encodeURIComponent(e)}).join("|");return e.siblings("input").val(n),e.siblings("input").data("json",a),"undefined"!==t.type(a.url)&&e.parent(".ut-link").find(".ut-link-label-url").text(a.url),"undefined"!==t.type(a.title)&&e.parent(".ut-link").find(".ut-link-label-title").text(a.title),"undefined"!==t.type(a.target)&&e.parent(".ut-link").find(".ut-link-label-target").text(a.target),o(e),i.preventDefault(),!1}),t("body").on("click","#wp-link-cancel .button",function(t){return o(),t.preventDefault(),!1})}(t(this)),c=!1;var i=t(this).siblings("input");"undefined"!=typeof wpActiveEditor?(window.wpActiveEditor=t(this).data("id"),wpLink.open(),wpLink.textarea=i):(c=!0,window.wpActiveEditor=t(this).data("id"),wpLink.open(),wpLink.textarea=i);var a=i.data("json");return"undefined"!==t.type(a.url)&&t("#wp-link-url").val(a.url),"undefined"!==t.type(a.title)&&t("#wp-link-text").val(a.title),t("#wp-link-target").prop("checked","string"===t.type(a.target)&&""!==a.target),!1});var p=t("#ut_front_header_parallax").val();"on"===p&&(t("#ut_front_header_image-attachment").prop("selectedIndex",0),t("#ut_front_header_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_front_header_image-position").prop("selectedIndex",0),t("#ut_front_header_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')),t(document).on("change","#ut_front_header_parallax",function(){"on"===(p=t(this).val())?(t("#ut_front_header_image-attachment").prop("selectedIndex",0).trigger("change"),t("#ut_front_header_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_front_header_image-position").prop("selectedIndex",0).trigger("change"),t("#ut_front_header_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')):(t("#ut_front_header_image-attachment").attr("disabled",!1).parent().unwrap(),t("#ut_front_header_image-position").attr("disabled",!1).parent().unwrap())}),"on"===(p=t("#ut_blog_header_parallax").val())&&(t("#ut_blog_header_image-attachment").prop("selectedIndex",0),t("#ut_blog_header_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_blog_header_image-position").prop("selectedIndex",0),t("#ut_blog_header_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')),t(document).on("change","#ut_front_header_parallax",function(){"on"===(p=t(this).val())?(t("#ut_blog_header_image-attachment").prop("selectedIndex",0).trigger("change"),t("#ut_blog_header_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_blog_header_image-position").prop("selectedIndex",0).trigger("change"),t("#ut_blog_header_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')):(t("#ut_blog_header_image-attachment").attr("disabled",!1).parent().unwrap(),t("#ut_blog_header_image-position").attr("disabled",!1).parent().unwrap())}),"on"===(p=t("#ut_csection_parallax").val())&&(t("#ut_csection_background_image-attachment").prop("selectedIndex",0),t("#ut_csection_background_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_csection_background_image-position").prop("selectedIndex",0),t("#ut_csection_background_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')),t(document).on("change","#ut_csection_parallax",function(){"on"===(p=t(this).val())?(t("#ut_csection_background_image-attachment").prop("selectedIndex",0).trigger("change"),t("#ut_csection_background_image-attachment").attr("disabled",!0).parent().wrap('<div class="disabled" />'),t("#ut_csection_background_image-position").prop("selectedIndex",0).trigger("change"),t("#ut_csection_background_image-position").attr("disabled",!0).parent().wrap('<div class="disabled" />')):(t("#ut_csection_background_image-attachment").attr("disabled",!1).parent().unwrap(),t("#ut_csection_background_image-position").attr("disabled",!1).parent().unwrap())}),t(document).on("click",".unite-health-status .notice-dismiss",function(e){t.ajax({url:ajaxurl,data:{action:"hide_health_notification"}}),e.preventDefault()}),t(document).on("widget-added widget-updated",function(t,i){i.find(".ut-option-initialized").removeClass("ut-option-initialized"),e.init_numeric_slider()}),t(document).on("click",".ut-load-video",function(e){var i=t(this).data("video"),a="-"+Math.random().toString(36).substr(2,9),n=t(this).parent(".ut-video-caption"),o=n.next(".ut-video-loading");o.fadeIn(),function(e,i,a,n){if(e){var o=t('<div id="ut-video'+i+'"></div>'),s=a.find(".ut-video-caption-text");t.ajax({type:"POST",url:ajaxurl,data:{action:"ut_get_video_player",video:e},success:function(t){return o.html(t).fitVids(),a.html(o.append(s)),!1},complete:function(){n&&"function"==typeof n&&n()}})}}(i,a,n,function(){o.fadeOut()}),e.preventDefault()}),t(document).on("click","#option-tree-settings-api-submit",function(){t("#option-tree-settings-api").submit()});var h={frame:function(e){var i=this.select(e);return this._frame=wp.media({id:"ut-gallery-frame",frame:"post",state:"gallery-edit",title:wp.media.view.l10n.editGalleryTitle,editing:!0,multiple:!0,selection:i}),this._frame.on("update",function(){var a=h._frame.states.get("gallery-edit").get("library").pluck("id"),n=t(e).parents(".format-setting-inner"),o=n.children(".ut-gallery-value"),s=wp.media.gallery.shortcode(i).string().replace(/\"/g,"'");a.length>o.data("max-images")&&(modal({type:"warning",title:"Info",text:unite_js_translation.gallery_limit,buttons:[{text:"OK",val:"ok",eKey:!0,addClass:"ut-ui-button-yellow",onClick:function(t){return!0}}],callback:function(t){}}),a=a.slice(0,3)),o.attr("value",a),n.children(".ut-gallery-list").length<=0&&o.after('<ul class="ut-gallery-list" />'),t.ajax({type:"POST",url:ajaxurl,dataType:"html",data:{action:"gallery_update",ids:a},success:function(i){n.children(".ut-gallery-list").html(i),o.hasClass("ut-gallery-shortcode")&&o.val(s),t(e).parent().children(".ut-gallery-delete").length<=0&&t(e).parent().append('<a href="#" class="ut-gallery-delete ut-ui-button ut-ui-button-health">'+unite_js_translation.delete_images+"</a>"),t(e).text(unite_js_translation.edit_images)}})}),this._frame},select:function(e){var i,a,n=t(e).parents(".format-setting-inner").children(".ut-gallery-value"),o=n.attr("value"),s=n.hasClass("ut-gallery-shortcode")?o:"[gallery ids="+o+"]",r=wp.shortcode.next("gallery",o?s:wp.media.view.settings.ut_gallery.shortcode),l=wp.media.gallery.defaults.id;if(r)return r=r.shortcode,_.isUndefined(r.get("id"))&&!_.isUndefined(l)&&r.set("id",l),_.isUndefined(r.get("ids"))&&!n.hasClass("ut-gallery-shortcode")&&o&&r.set("ids",o),_.isUndefined(r.get("ids"))&&r.set("ids","0"),i=wp.media.gallery.attachments(r),a=new wp.media.model.Selection(i.models,{props:i.props.toJSON(),multiple:!0}),a.gallery=i.gallery,a.more().done(function(){a.props.set({query:!1}),a.unmirror(),a.props.unset("orderby")}),a},open:function(t){h.frame(t).open()},remove:function(e){modal({type:"confirm",title:"Confirm",text:unite_js_translation.remove_agree,buttons:[{addClass:"ut-ui-button-health"},{addClass:"ut-ui-button-blue"}],callback:function(i){!0===i&&(t(e).parents(".format-setting-inner").children(".ut-gallery-value").attr("value",""),t(e).parents(".format-setting-inner").children(".ut-gallery-list").remove(),t(e).next(".ut-gallery-edit").text(unite_js_translation.edit_images),t(e).remove())}})}};t(document).on("click",".ut-gallery-delete",function(e){e.preventDefault(),h.remove(t(this))}),t(document).on("click",".ut-gallery-edit",function(e){e.preventDefault(),h.open(t(this))}),t().lightGallery&&t("#ut-dashboard-content").lightGallery({selector:".ut-help-lightbox",subHtmlSelectorRelative:!0,thumbnail:!1,hash:!1}),t().hideseek&&t("#search-topics").hideseek({highlight:!0,nodata:"No results found"}),t(document).on("click","#option-tree-settings-api-restore",function(e){return e.preventDefault(),modal({type:"confirm",title:"Confirm",text:unite_js_translation.reset_agree,buttons:[{addClass:"ut-ui-button-health"},{addClass:"ut-ui-button-blue"}],callback:function(e){!0===e&&function(e){t.ajax({type:"POST",url:ajaxurl,data:{action:"restore_theme_options",nonce:e.data("nonce")},success:function(){return location.reload(),!1}})}(t(this))}}),!1}),t(document).on("click",".ut-button-builder-tabs a",function(e){e.preventDefault();var i=t(this),a="#"+i.parents(".ut-button-builder-tabs").data("tabgroup"),n=i.closest("li").siblings().children("a"),o=i.attr("href");n.removeClass("active"),i.addClass("active"),t(a).children("div").hide(),t(o).show()}),t(document).on("click",".ut-colorpicker-tabs a",function(e){e.preventDefault();var i=t(this),a="#"+i.parents(".ut-colorpicker-tabs").data("tabgroup"),n=i.closest("li").siblings().children("a"),o=i.attr("href");n.removeClass("active"),i.addClass("active"),t(a).children("div").hide(),t(o).show()}),t(document).on("click",".ut-ui-delete-transients",function(e){window.location.href=t(this).data("url")}),t(document).on("click",".ut-section-headline-with-collapse",function(e){t(this).toggleClass("ut-section-headline-collapsed"),e.preventDefault()}),t(".notice.unite-health-status").length?t(document).on("click",".ut-theme-options-page .ut-ui-button.save-settings, #option-tree-settings-api-submit",function(e){e.preventDefault(),modal({type:"error",title:"Attention",text:unite_js_translation.health_notification,buttons:[{addClass:"ut-ui-button-health",text:"Cancel",onClick:function(e){return t("#modal-window").remove(),!1}},{addClass:"ut-ui-button-blue",text:"Save Anyways!",onClick:function(t){return!0}}],callback:function(e){!0===e&&t("#option-tree-settings-api").submit()}})}):t(document).on("click","#option-tree-settings-api-submit",function(){t("#option-tree-settings-api").submit()})})}(jQuery);