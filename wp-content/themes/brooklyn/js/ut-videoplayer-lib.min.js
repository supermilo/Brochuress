!function(t){"use strict";function a(t,a){this.canvas=t,this.ctx=t.getContext("2d"),this.width=t.width,this.height=t.height,this.options=a}function e(t,i,n,s){setTimeout(function(){var l=new a(t);try{n++,l.drawImage(o[i].video,0,0),l.glitchWave(3*n%l.height,75),n%100<10&&(l.glitchFillRandom(5,20),l.glitchHorizontalWave(3*n%l.width,2),l.glitchHorizontalWave(30*n%l.width,6),l.glitchHorizontalWave(47*n%l.width,1)),80<n%100&&l.glitchBlock(5),95<n%100&&l.glitchFillRandom(2,5),requestAnimationFrame(function(){e(t,i,n,s)})}catch(a){if("NS_ERROR_NOT_AVAILABLE"!==a.name)throw a;setTimeout(requestAnimationFrame(function(){e(t,i,n,s)}),100)}},1e3/s)}var o=[],i=function(t,a){return~~(Math.random()*(a-t)+t)},n=function(t,a){a[t]=a[t+16]},s=function(t,a){a[t]=1,a[t+1]+=i(2,5),a[t+2]*=i(1,3)+8},l=function(t,a,e){var o=t.data||[],a=4*a||4;if(o.length){for(var i=0;i<o.length;i+=a)e&&e(i,o);return t}return t};a.prototype.drawImage=function(t,a,e){this.canvas.getContext("2d").drawImage(t,a,e,this.width,this.height)},a.prototype.glitchWave=function(t,a){var e=this.ctx.getImageData(0,t,this.width,a);e=l(e,1,n),this.ctx.putImageData(e,0,t-20)},a.prototype.glitchHorizontalWave=function(t,a){var e=this.ctx.getImageData(t,0,a,this.height);e=l(e,2,s),this.ctx.putImageData(e,t-20,0)},a.prototype.glitchFillRandom=function(t,a){for(var e=i(100,1920),o=i(100,1080),n=0;n<t;n++){var d=e*i(1,2),u=o*i(1,2),r=e*i(1,2),c=a*i(1,2),v=this.ctx.getImageData(d,u,r,c);v=l(v,4,s),this.ctx.putImageData(v,d*Math.random()%e,u)}},a.prototype.glitchBlock=function(t){for(var a=0;a<(t||10);a++){var e=1+i(1,50),o=(Math.random(),this.width,Math.random()*this.height+1),n=.1*this.width;this.ctx.drawImage(this.canvas,n,o,this.width-2*n,e,1+i(0,2*n),o+i(0,10),this.width-n,e)}},a.prototype.glitchSlip=function(t,a,e){if(e<a){var o=e;e=a,a=o}for(var i=a;i<e;i++){Math.random()<.1&&i++;var n=this.ctx.getImageData(0,i,this.width,1);this.ctx.putImageData(n,Math.random()*t-t/2,i)}},a.prototype._render=function(){},window.UT_Video_Glitch_Canvas=a,a.prototype._render=function(){},t.fn.exists=function(){return this.length>0},window.reveal_wait=[],window.wait_for_reveal=function(a,e){window.reveal_wait[a]=setInterval(function(){t(a).parent().hasClass("ut-element-revealer-ready")&&(clearInterval(window.reveal_wait[a]),e())},50)};var d=lozad(".ut-lazy-video",{threshold:.1,loaded:function(t){}});t(window).load(function(){d.observe()});var u=[];t(document).ready(function(){window.onbeforeunload=function(){sessionStorage.setItem("origin",window.location.href)},t(document).one("click","body",function(a){"undefined"!=typeof sessionStorage&&sessionStorage.ut_user_interaction?t(this).off(a):"undefined"!=typeof sessionStorage&&(sessionStorage.setItem("ut_user_interaction","true"),t(this).off(a))}),t(document).one("keydown","body",function(a){if("undefined"!=typeof sessionStorage&&sessionStorage.ut_user_interaction)t(this).off(a);else{9===(a.keyCode||a.which)&&"undefined"!=typeof sessionStorage&&(sessionStorage.setItem("ut_user_interaction","true"),t(this).off(a))}}),t("#ut-confirm-video-play").on("click",function(e){t("#ut-video-play-tooltip").removeClass("active"),a.resumeAllVideos(),e.preventDefault()});var a={audioControlActiveClass:"ut-video-audio-control-on",audioControlInActiveClass:"ut-video-audio-control-off",playControlActiveClass:"ut-video-play-control-play",playControlInActiveClass:"ut-video-play-control-pause",showPlayTooltip:function(){t("#ut-video-play-tooltip").addClass("active")},getGlitchCanvas:function(a){return a.jquery?a:t("#ut-glitch-canvas-"+a)},getPlayerObject:function(a){return void 0!==a&&(void 0!==o[a]?t(o[a].video):a.jquery?a:t("#ut-selfvideo-player-"+a))},getMuteButton:function(a){return t('.ut-video-audio-control[data-for="'+a+'"]')},muteButtonActivate:function(t){this.getMuteButton(t).removeClass(this.audioControlActiveClass).addClass(this.audioControlInActiveClass),this.getMuteButton(t).find(".ut-video-audio-control-soundbar-wrap span").text(this.getMuteButton(t).find(".ut-video-audio-control-soundbar-wrap span").data("off"))},muteButtonDeactivate:function(t){this.getMuteButton(t).removeClass(this.audioControlInActiveClass).addClass(this.audioControlActiveClass),this.getMuteButton(t).find(".ut-video-audio-control-soundbar-wrap span").text(this.getMuteButton(t).find(".ut-video-audio-control-soundbar-wrap span").data("on"))},manuallyMuted:function(t){return!!this.getPlayerObject(t).data("manually-muted")&&this.getPlayerObject(t).data("manually-muted")},setManuallyMuted:function(t,a){this.getPlayerObject(t).data("manually-muted",a)},getPlayButton:function(a){return t('.ut-video-play-control[data-for="'+a+'"]')},playButtonActivate:function(t){this.getPlayButton(t).removeClass(this.playControlActiveClass).addClass(this.playControlInActiveClass)},playButtonDeactivate:function(t){this.getPlayButton(t).removeClass(this.playControlInActiveClass).addClass(this.playControlActiveClass)},manuallyPaused:function(t){return!(!this.getPlayerObject(t)||!this.getPlayerObject(t).data("manually-paused"))&&this.getPlayerObject(t).data("manually-paused")},setManuallyPaused:function(t,a){this.getPlayerObject(t).data("manually-paused",a)},setVolume:function(t,a){this.getPlayerObject(t).get(0).volume=a},videoLoadStatus:function(t){4===t.readyState?this.playVideo(t):setTimeout(function(t){this.videoLoadStatus(t)},100)},videoPlayStatus:function(t){console.log(t.currentTime)},playVideo:function(t){if(!this.manuallyPaused(t)&&this.getPlayerObject(t)){var e=this.getPlayerObject(t).get(0).play();void 0!==e&&e.then(function(){"on"===a.getPlayerObject(t).data("playSound")&&a.unMuteVideo(t),a.getPlayerObject(t).parent().length?a.getPlayerObject(t).parent().addClass("ut-video-is-playing").removeClass("ut-video-is-paused").closest(".ut-has-background-video").addClass("ut-video-is-playing").removeClass("ut-video-is-paused"):a.getGlitchCanvas(t).parent().addClass("ut-video-is-playing").removeClass("ut-video-is-paused").closest(".ut-has-background-video").addClass("ut-video-is-playing").removeClass("ut-video-is-paused")}).catch(function(){a.showPlayTooltip()})}},pauseVideo:function(t){this.getPlayerObject(t)&&(this.getPlayerObject(t).get(0).pause(),"on"===this.getPlayerObject(t).data("playSound")&&this.muteVideo(t),"play_pause"===this.getPlayerObject(t).data("playAction")&&this.playButtonDeactivate(t),this.getPlayerObject(t).parent().length?this.getPlayerObject(t).parent().removeClass("ut-video-is-playing").addClass("ut-video-is-paused").closest(".ut-has-background-video").removeClass("ut-video-is-playing").addClass("ut-video-is-paused"):this.getGlitchCanvas(t).parent().removeClass("ut-video-is-playing").addClass("ut-video-is-paused").closest(".ut-has-background-video").removeClass("ut-video-is-playing").addClass("ut-video-is-paused"))},resetVideo:function(t){this.getPlayerObject(t).get(0).currentTime=0,this.getPlayerObject(t).parent().removeClass("ut-video-is-paused")},muteVideo:function(t){this.getPlayerObject(t).get(0).muted=!0,this.muteButtonActivate(t)},unMuteVideo:function(t){this.manuallyMuted(t)||(this.getPlayerObject(t).get(0).muted=!1,this.muteButtonDeactivate(t))},pauseAllVideos:function(){t.each(u,function(t,e){void 0!==e.vimeo&&e.vimeo.pause(),void 0!==e.youtube&&e.youtube.YTPPause(),void 0!==e.selfhosted&&a.pauseVideo(e.selfhosted)})},resumeAllVideos:function(){t.each(u,function(t,e){"on_hover"!==e.play_event&&(void 0!==e.vimeo&&e.vimeo.play(),void 0!==e.youtube&&e.youtube.YTPPlay(),void 0!==e.selfhosted&&a.playVideo(e.selfhosted))})}},i={defaultFilters:{grayscale:{unit:"%"},hue_rotate:{unit:"deg"},invert:{unit:"%"},opacity:{unit:"%"},saturate:{unit:"%"},sepia:{unit:"%"},brightness:{unit:"%"},contrast:{unit:"%"},blur:{unit:"px"}},enableFilters:function(t,a){var e="";for(var o in a)"action"!==o&&this.defaultFilters[o].unit&&(e+=o.replace("_","-")+"("+a[o]+this.defaultFilters[o].unit+") ");var n=t.closest(".ut-has-background-video");"add"===a.action&&(n.on("mouseenter",function(){t.css("-webkit-filter",e),t.css("filter",e),"undefined"!==a.blur&&a.blur>0&&i.addZoom(t,a)}),n.on("mouseleave",function(){i.disableFilters(t,a)})),"remove"===a.action&&(t.css("-webkit-filter",e),t.css("filter",e),"undefined"!==a.blur&&a.blur>0&&i.addZoom(t,a),n.on("mouseenter",function(){i.disableFilters(t,a)}),n.on("mouseleave",function(){t.css("-webkit-filter",e),t.css("filter",e),"undefined"!==a.blur&&a.blur>0&&i.addZoom(t,a)})),"none"===a.action&&(t.css("-webkit-filter",e),t.css("filter",e),"undefined"!==a.blur&&a.blur>0&&i.addZoom(t,a))},disableFilters:function(t,a){t.css("-webkit-filter","none"),t.css("filter","none"),a.blur},addZoom:function(t,a){t.css("-webkit-transform","scale("+(1+.006*a.blur)+")"),t.css("transform","scale("+(1+.006*a.blur)+")")},removeZoom:function(t){t.css("-webkit-transform","scale(1)"),t.css("transform","scale(1)")}};t(".ut-video-section-player-youtube").each(function(){var e=t(this),o=e.data("id"),n=e.data("filters"),s=e.data("property");e.YTPlayer(),u.push({youtube:e,play_event:e.data("playEvent")}),e.on("YTPPlay",function(){"play_lightbox"!==e.data("controlsPlayEvent")&&(e.YTPSetVolume(s.vol),a.playButtonActivate(o))}),e.on("YTPPause",function(){"play_lightbox"!==e.data("controlsPlayEvent")&&a.playButtonDeactivate(o)}),e.on("YTPPlay",function(){e.parent().find(".mbYTP_wrapper").addClass("ut-video-is-playing").removeClass("ut-video-is-paused")}),e.on("YTPPause",function(){e.parent().find(".mbYTP_wrapper").addClass("ut-video-is-paused").removeClass("ut-video-is-playing")}),e.on("YTPReady",function(){var l="";e.YTPSetVolume(s.vol),t('.ut-video-controls[data-for="'+o+'"]').addClass("ut-video-controls-visible"),n&&i.enableFilters(t(e.YTPGetPlayer().a),n),"on_load"===e.data("playEvent")&&(setTimeout(function(){e.YTPPlay()},100),"play_lightbox"!==e.data("controlsPlayEvent")&&a.playButtonActivate(o)),"on_hover"===e.data("playEvent")&&((l=e.closest(".ut-has-background-video")).on("mouseenter",function(){e.data("manually-paused")||e.YTPPlay()}),l.on("mouseleave",function(){e.data("manually-paused")||e.YTPPause()})),"on_appear"===e.data("playEvent")&&e.closest(".ut-has-background-video").addClass("ut-appear-youtube-player").data({for:o,"appear-top-offset":"full"}).on("inview",function(t,a){if(a){if(e.data("manually-paused"))return;e.YTPPlay()}else{if(e.data("manually-paused"))return;e.YTPPause()}})}),e.on("YTPEnd",function(){s.loop||t('.ut-video-controls[data-for="'+o+'"]').removeClass("ut-video-controls-visible")});t('.ut-video-audio-control[data-for="'+o+'"]').on("click",function(a){var o=t(this);o.hasClass("ut-video-audio-control-off")?(o.removeClass("ut-video-audio-control-off").addClass("ut-video-audio-control-on"),o.find(".ut-video-audio-control-soundbar-wrap span").text(o.find(".ut-video-audio-control-soundbar-wrap span").data("on")),e.YTPUnmute()):(o.removeClass("ut-video-audio-control-on").addClass("ut-video-audio-control-off"),o.find(".ut-video-audio-control-soundbar-wrap span").text(o.find(".ut-video-audio-control-soundbar-wrap span").data("off")),e.YTPMute()),a.preventDefault()});var l=t('.ut-video-play-control[data-for="'+o+'"]');l.on("click",function(a){var o=t(this);"play_pause"===o.data("eventType")&&(o.hasClass("ut-video-play-control-pause")?(o.removeClass("ut-video-play-control-pause"),e.data("manually-paused",!0).YTPPause()):(o.addClass("ut-video-play-control-pause"),e.data("manually-paused",!1).YTPPlay())),a.preventDefault()}),"play_lightbox"===e.data("controlsPlayEvent")&&(l.lightGallery({selector:"this",download:site_settings.lg_download,videoMaxWidth:site_settings.site_width+"px",autoplayFirstVideo:!0,hash:!1}),l.on("onBeforeOpen.lg",function(t){a.pauseAllVideos()}),l.on("onCloseAfter.lg",function(t){a.resumeAllVideos()}))}),t(window).load(function(){t(".ut-video-section-player-vimeo").each(function(){var e=t(this),o=e.data("id"),n=e.data("filters"),s=e.data("property"),l=!1;e.vimelar(s);var d=t("#vimelar-player-"+o),r=new Vimeo.Player(d.get(0));u.push({vimeo:r,play_event:e.data("playEvent")}),r.on("play",function(){"play_lightbox"!==e.data("controlsPlayEvent")&&(a.playButtonActivate(o),l=!0)}),r.on("pause",function(){"play_lightbox"!==e.data("controlsPlayEvent")&&(a.playButtonDeactivate(o),l=!1)}),r.on("loaded",function(){var u="";n&&i.enableFilters(d,n),"on"===s.sound&&r.setVolume(s.parameters.volume/100),t('.ut-video-controls[data-for="'+o+'"]').addClass("ut-video-controls-visible"),t("#vimelar-container-"+o).addClass("ut-vimeo-loaded"),"on_load"===e.data("playEvent")&&(r.play(),"play_lightbox"!==e.data("controlsPlayEvent")&&a.playButtonActivate(o)),"on_hover"===e.data("playEvent")&&((u=e.closest(".ut-has-background-video")).on("mouseenter",function(){e.data("manually-paused")||l||r.play()}),u.on("mouseleave",function(){!e.data("manually-paused")&&l&&r.pause()})),"on_appear"===e.data("playEvent")&&e.closest(".ut-has-background-video").addClass("ut-appear-vimeo-player").data({for:o,"appear-top-offset":"full"}).on("inview",function(t,a){if(a){if(e.data("manually-paused"))return;r.play()}else{if(e.data("manually-paused"))return;r.pause()}})}),r.on("ended",function(){s.loop||t('.ut-video-controls[data-for="'+o+'"]').removeClass("ut-video-controls-visible")}),t('.ut-video-audio-control[data-for="'+o+'"]').on("click",function(a){var e=t(this);e.hasClass("ut-video-audio-control-off")?(e.removeClass("ut-video-audio-control-off").addClass("ut-video-audio-control-on"),e.find(".ut-video-audio-control-soundbar-wrap span").text(e.find(".ut-video-audio-control-soundbar-wrap span").data("on")),r.setVolume(parseInt(e.data("volume"))/100)):(e.removeClass("ut-video-audio-control-on").addClass("ut-video-audio-control-off"),e.find(".ut-video-audio-control-soundbar-wrap span").text(e.find(".ut-video-audio-control-soundbar-wrap span").data("off")),r.setVolume(0)),a.preventDefault()});var c=t('.ut-video-play-control[data-for="'+o+'"]');c.on("click",function(a){var e=t(this);"play_pause"===e.data("eventType")&&(e.hasClass("ut-video-play-control-pause")?(e.removeClass("ut-video-play-control-pause"),r.data("manually-paused",!0).pause()):(e.addClass("ut-video-play-control-pause"),r.data("manually-paused",!1).play())),a.preventDefault()}),"play_lightbox"===e.data("controlsPlayEvent")&&(c.lightGallery({selector:"this",download:site_settings.lg_download,videoMaxWidth:site_settings.site_width+"px",autoplayFirstVideo:!0,hash:!1}),c.on("onBeforeOpen.lg",function(t){a.pauseAllVideos()}),c.on("onCloseAfter.lg",function(t){a.resumeAllVideos()}))})}),t(".ut-selfvideo-player").exists()&&t(".ut-selfvideo-player").each(function(){var e=t(this),o=e.data("id"),n=e.data("filters"),s=e.attr("volume")/100;if(u.push({selfhosted:o,play_event:e.data("playEvent")}),n&&i.enableFilters(e,n),a.setVolume(o,s),e.on("play",function(){"play_lightbox"!==e.data("controlsPlayEvent")&&a.playButtonActivate(o)}),"on_load"===e.data("playEvent")&&(e.data("ut-wait")?window.wait_for_reveal("#"+e.data("ut-wait"),function(){t('.ut-video-controls[data-for="'+o+'"]').addClass("ut-video-controls-visible"),a.playVideo(o)}):(t('.ut-video-controls[data-for="'+o+'"]').addClass("ut-video-controls-visible"),a.playVideo(o))),"on_hover"===e.data("playEvent")&&(e.closest(".ut-has-background-video").addClass("ut-trigger-selfvideo-player").data("for",e.data("id")),t('.ut-video-controls[data-for="'+o+'"]').addClass("ut-video-controls-visible")),"on_appear"===e.data("playEvent")){var l=e.closest(".ut-has-background-video").data("appear-top-offset")?e.closest(".ut-has-background-video").data("appear-top-offset"):"full";e.closest(".ut-has-background-video").addClass("ut-appear-selfvideo-player").data({for:e.data("id"),"appear-top-offset":l})}var d=t('.ut-video-play-control[data-for="'+o+'"]');d.on("click",function(e){var o=t(this);"play_pause"===o.data("event-type")&&(o.hasClass("ut-video-play-control-play")?(a.setManuallyPaused(o.data("for"),!1),a.playVideo(o.data("for"))):(a.setManuallyPaused(o.data("for"),!0),a.pauseVideo(o.data("for")))),e.preventDefault()}),"play_lightbox"===e.data("controlsPlayEvent")&&(d.lightGallery({selector:"this",download:site_settings.lg_download,videoMaxWidth:site_settings.site_width+"px",autoplayFirstVideo:!0,hash:!1}),d.on("onBeforeOpen.lg",function(){a.pauseAllVideos()}),d.on("onCloseAfter.lg",function(){a.resumeAllVideos()}))}),t(".ut-selfhosted-glitch-video").exists()&&t(".ut-selfhosted-glitch-video").each(function(){var n=t(this),s=n.data("id");o[s]=new function(a,e){a=t.extend({src:"",type:"video/mp4",controls:!1,autoplay:!0,loop:!0,muted:!0},a);var o=document.createElement("video");o.crossOrigin="anonymous",o.controls=a.controls,o.autoplay=a.autoplay,o.loop=a.loop,o.muted=a.muted,o.classList.add("ut-glitch-video");var i=document.createElement("source");i.src=a.src,i.type=a.type,o.appendChild(i),this.video=o,this.source=i,this.video.onloadeddata=function(){e&&"function"==typeof e&&e()}}({src:n.data("mp4"),type:"video/mp4",muted:n.data("muted"),autoplay:n.data("autoplay")},requestAnimationFrame(function(){e(document.getElementById("ut-glitch-canvas-"+s),s,0,30)}));var l=t(o[n.data("id")].video),d=n.data("filters"),r=n.data("volume")/100;u.push({selfhosted:s,play_event:n.data("playEvent")}),d&&i.enableFilters(l,d),a.setVolume(s,r),l.on("play",function(){"play_lightbox"!==n.data("controlsPlayEvent")&&a.playButtonActivate(s)}),"on_load"===n.data("playEvent")&&(a.playVideo(s),t('.ut-video-controls[data-for="'+s+'"]').addClass("ut-video-controls-visible")),"on_hover"===n.data("playEvent")&&(n.closest(".ut-has-background-video").addClass("ut-trigger-selfvideo-player").data("for",n.data("id")),t('.ut-video-controls[data-for="'+s+'"]').addClass("ut-video-controls-visible")),"on_appear"===n.data("playEvent")&&n.closest(".ut-has-background-video").addClass("ut-appear-selfvideo-player").data({for:n.data("id"),"appear-top-offset":"full"}).appear();var c=t('.ut-video-play-control[data-for="'+s+'"]');c.on("click",function(e){var o=t(this);"play_pause"===o.data("event-type")&&(o.hasClass("ut-video-play-control-play")?(a.setManuallyPaused(o.data("for"),!1),a.playVideo(o.data("for"))):(a.setManuallyPaused(o.data("for"),!0),a.pauseVideo(o.data("for")))),e.preventDefault()}),"play_lightbox"===n.data("controlsPlayEvent")&&(c.lightGallery({selector:"this",download:site_settings.lg_download,videoMaxWidth:site_settings.site_width+"px",autoplayFirstVideo:!0,hash:!1}),c.on("onBeforeOpen.lg",function(){a.pauseAllVideos()}),c.on("onCloseAfter.lg",function(){a.resumeAllVideos()}))}),t(document).on("click",'.ut-video-audio-control[data-source="selfhosted"]',function(){var e=t(this);e.hasClass("ut-video-audio-control-on")?a.setManuallyMuted(e.data("for"),!0):a.setManuallyMuted(e.data("for"),!1)}),t(document).on("mouseenter",".ut-trigger-selfvideo-player",function(){a.playVideo(t(this).data("for"))}),t(document).on("mouseleave",".ut-trigger-selfvideo-player",function(){a.pauseVideo(t(this).data("for"))}),t(document).on("click",'.ut-video-audio-control[data-source="selfhosted"]',function(e){var o=t(this);o.hasClass(a.audioControlActiveClass)?a.muteVideo(o.data("for")):a.unMuteVideo(o.data("for")),e.preventDefault()}),t(".ut-appear-selfvideo-player").on("inview",function(e,o){if(o){var i=t(e.target).data("for"),n=t("#ut-selfvideo-player-"+i);n.data("ut-wait")&&n.data("ut-wait").length>1?window.wait_for_reveal("#"+n.data("ut-wait"),function(){a.playVideo(t(e.target).data("for")),t('.ut-video-controls[data-for="'+t(e.target).data("for")+'"]').addClass("ut-video-controls-visible")}):(a.playVideo(t(e.target).data("for")),t('.ut-video-controls[data-for="'+t(e.target).data("for")+'"]').addClass("ut-video-controls-visible")),t(e.target).addClass("inView")}else a.pauseVideo(t(e.target).data("for")),t('.ut-video-controls[data-for="'+t(e.target).data("for")+'"]').addClass("ut-video-controls-visible"),t(e.target).removeClass("inView")})});var r=function(){t(".ut-force-video-aspect-ratio:not(.ut-vimelar-container)").each(function(){var a=t(this),e=window.getComputedStyle(document.querySelector("#"+a.attr("id")),":after"),o=a.closest(".ut-has-background-video:not(.hero)");o.css("min-height",e.height),o.hasClass("ut-hover-box-back")&&o.siblings(".ut-hover-box-front").css("min-height",e.height);var i=a.closest(".ut-content-carousel");i.length&&i.flickity("resize")})};t(document).ready(r),t(window).load(r).utresize(r)}(jQuery);